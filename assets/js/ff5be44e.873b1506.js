"use strict";(self.webpackChunkie_docs=self.webpackChunkie_docs||[]).push([[37],{3905:(e,t,n)=>{n.d(t,{Zo:()=>u,kt:()=>h});var a=n(7294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=a.createContext({}),c=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},d="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,u=s(e,["components","mdxType","originalType","parentName"]),d=c(n),m=i,h=d["".concat(l,".").concat(m)]||d[m]||p[m]||r;return n?a.createElement(h,o(o({ref:t},u),{},{components:n})):a.createElement(h,o({ref:t},u))}));function h(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[d]="string"==typeof e?e:i,o[1]=s;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8197:(e,t,n)=>{n.d(t,{ZP:()=>o});var a=n(7462),i=(n(7294),n(3905));const r={toc:[{value:"Requirements",id:"requirements",level:4},{value:"Recommendations",id:"recommendations",level:4}]};function o(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},r,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h4",{id:"requirements"},"Requirements"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Must be unique across the instance:"),"  The value of the ",(0,i.kt)("inlineCode",{parentName:"p"},"externalCustomerId")," must be unique across all learners of every client in an instance. This means that if you share an instance with other clients (almost everyone), then your ID must not clash with other client's learners.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Some good options include"),":"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},"Email Addresses"),(0,i.kt)("li",{parentName:"ul"},"An ID random enough to be sufficiently collision resistant"),(0,i.kt)("li",{parentName:"ul"},"Appending the school domain name to an ID like this ",(0,i.kt)("inlineCode",{parentName:"li"},"id130242@schooldomain.com"))))),(0,i.kt)("h4",{id:"recommendations"},"Recommendations"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"An ID that doesn't change:")," Since this value used to sync learner to their accounts or create a new account if one doesn't exist for a learner, it's recommended that this value be from a source that doesn't change. If the value does change, then the learner will receive a fresh account upon authenticating and will lose all previous progress."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Email Address:")," Sending an email as the ",(0,i.kt)("inlineCode",{parentName:"p"},"externalCustomerId")," can occasionally cause this if learner's email is tied to their name in a way where any changes to their name causes a change to their email. That said, email addresses are used by many clients without much headache. Though it isn't the perfect solution, a majority of our clients consider it good enough.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Unique IDs:")," If available, an ID with sufficient randomness to be collision resistant, or appending a domain or school name to less random ID like this ",(0,i.kt)("inlineCode",{parentName:"p"},"id130242@schooldomain.com"),", has the benefits of being both unique and unchanging. This tends to be the optimal approach and is what we recommend first if available."))))))}o.isMDXComponent=!0},3762:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>m,contentTitle:()=>d,default:()=>k,frontMatter:()=>u,metadata:()=>p,toc:()=>h});var a=n(7462),i=(n(7294),n(3905));const r={toc:[]};function o(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},r,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Have a running Identity Provider (IdP)")," that supports CAS SSO protocols to integrate with IE as the Service Provider (SP). ",(0,i.kt)("a",{parentName:"p",href:"../introduction#sso-support"},"See docs for some specific IDPs here"),".")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"#configuring-the-idp"},"Configure your IdP server")))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"#configuring-the-sp"},"Share your IdP Details"))," with your IE representative so they can configure your client. For CAS this typically means the IE validation endpoint (aka CAS server url / serviceValidate endpoint).")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"#authentication"},"Construct a Learner Login URL"))," to your instance for students to use for authentication. You'll need a service URL provided by IE and potentially more depending on your circumstances.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"#testing"},"Test Authentication"))," making configuration adjustments as needed. This entails you attempt logging in via SSO (Login URL provided by IE as needed) and your IE rep will consult the SP logs and make / suggest changes if required.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},(0,i.kt)("a",{parentName:"strong",href:"#redirects"},"Share your SP Redirect URLs"))," for a better user experience. With SSO enabled and accounts controlled by the IDP, learners have no need for the SP ",(0,i.kt)("inlineCode",{parentName:"p"},"Logout")," or ",(0,i.kt)("inlineCode",{parentName:"p"},"Account")," pages anymore. These pages will require redirection to equivalent pages in your system, so share redirect URLs with IE to configure."))),(0,i.kt)("admonition",{title:"Please Note",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"Changing your SSO configuration for a client with ",(0,i.kt)("strong",{parentName:"p"},"existing learners")," comes with some additional challenges. ",(0,i.kt)("a",{parentName:"p",href:"../existing-learners"},"See details here"),".")))}o.isMDXComponent=!0;const s={toc:[{value:"Overview",id:"overview",level:3},{value:"1. Constructing the Service URL",id:"1-constructing-the-service-url",level:4},{value:"Start with the Base URL:",id:"start-with-the-base-url",level:5},{value:"Add License ID:",id:"add-license-id",level:5},{value:"Add Redirects:",id:"add-redirects",level:5},{value:"2. URI Encode the Service URL",id:"2-uri-encode-the-service-url",level:4},{value:"3. Add to CAS Login URL via Service Parameter",id:"3-add-to-cas-login-url-via-service-parameter",level:4}]};function l(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h3",{id:"overview"},"Overview"),(0,i.kt)("p",null,'Direct your users to login to your CAS server with the "service" parameter set to the URI-encoded TI CAS endpoint.'),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"https://<CAS Server Domain>/login?service=<URI Encoded Service URL>"))),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"This is done in 3 steps:")),(0,i.kt)("h4",{id:"1-constructing-the-service-url"},"1. Constructing the Service URL"),(0,i.kt)("h5",{id:"start-with-the-base-url"},"Start with the Base URL:"),(0,i.kt)("p",null,"Start by constructing the base of the URL depending on which IE product you're configuring for"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Combine the https protocol, IE product domain, and cas access path"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"https://<IE Product Domain>/access/cas"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Example"),": ",(0,i.kt)("a",{parentName:"p",href:"https://www.google.com/url?q=https%3A%2F%2Fwww.go2knowledge.com%2Faccess%2Fcas&sa=D&sntz=1&usg=AOvVaw3bpW9GlMFogR6OQoGZEORE"},"https://www.studentlingo.com/access/cas")))))),(0,i.kt)("h5",{id:"add-license-id"},"Add License ID:"),(0,i.kt)("p",null,"Next, you'll need to specify a license ID to connect the incoming student with your Client in our system. If you own your own instance, you can skip this step (uncommon)."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Obtain your client's license ID from IE."),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},'If you\'ve been granted admin privileges (uncommon), you will see a license ID when you click "Edit" on any sublicense. If you are not using sublicense functionality, you will see a license ID on the "Master License" tab. Only one license can be specified. Treat this license ID as a secret, similar to a password.'))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Add licenseId query parameter and value to Base Service URL ",(0,i.kt)("strong",{parentName:"p"},"(params are case sensitive)"),":"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"https://<IE product domain>/access/cas?licenseId=<License ID>"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Example"),": ",(0,i.kt)("a",{parentName:"p",href:"https://www.studentlingo.com/access/cas?licenseId=5090b9e3-5542-4050-b863-8429fc03ad5b"},"https://www.studentlingo.com/access/cas?licenseId=5090b9e3-5542-4050-b863-8429fc03ad5b")))))),(0,i.kt)("h5",{id:"add-redirects"},"Add Redirects:"),(0,i.kt)("p",null,"You can optionally specify a URL of a page to redirect the user to after successful authentication."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"TI validates the ticket on your CAS server and then grants the user access and directs them to the specified returnTo URL, or the student dashboard if no URL was provided.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Add returnTo query parameter and value to URL ",(0,i.kt)("strong",{parentName:"p"},"(params are case sensitive)"),":"),(0,i.kt)("ul",{parentName:"li"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("inlineCode",{parentName:"p"},"https://<IE product domain>/access/cas?licenseId=<License ID>&returnTo=<Return to URL>"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},(0,i.kt)("strong",{parentName:"p"},"Example")," redirecting to the course catalog: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://www.studentlingo.com/access/cas?licenseId=5090b9e3-5542-4050-b863-8429fc03ad5b&returnTo=https://www.studentlingo.org/catalog"))))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Both a returnTo and a licenseId can be specified within the same request"))),(0,i.kt)("h4",{id:"2-uri-encode-the-service-url"},"2. URI Encode the Service URL"),(0,i.kt)("p",null,"Once you have a complete Service URL, it must be ",(0,i.kt)("strong",{parentName:"p"},"URI encoded")," before it can be added to the CAS login URL. This will ensure structural integrity during URL parsing."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"If the URL is: ",(0,i.kt)("a",{parentName:"li",href:"https://www.studentlingo.com/access/cas?licenseId=5090b9e3-5542-4050-b863-8429fc03ad5b"},"https://www.studentlingo.com/access/cas?licenseId=5090b9e3-5542-4050-b863-8429fc03ad5b")),(0,i.kt)("li",{parentName:"ul"},"Then URI encoded it looks like: ",(0,i.kt)("inlineCode",{parentName:"li"},"https%3A%2F%2Fwww.studentlingo.com%2Faccess%2Fcas%3FlicenseId%3D5090b9e3-5542-4050-b863-8429fc03ad5b"))),(0,i.kt)("h4",{id:"3-add-to-cas-login-url-via-service-parameter"},"3. Add to CAS Login URL via Service Parameter"),(0,i.kt)("p",null,"Lastly, add the URI encoded Service URL to your CAS Login URL as a Service Parameter"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("inlineCode",{parentName:"li"},"https://<CAS Server Domain>/login?service=<URI Encoded Service URL>")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("strong",{parentName:"li"},"Example"),": ",(0,i.kt)("inlineCode",{parentName:"li"},"https://www.casserver.org/login?service=https%3A%2F%2Fwww.studentlingo.com%2Faccess%2Fcas%3FlicenseId%3D5090b9e3-5542-4050-b863-8429fc03ad5b"))))}l.isMDXComponent=!0;var c=n(8197);const u={sidebar_position:7},d="Configuring CAS",p={unversionedId:"single-sign-on/configuring-cas/cas",id:"single-sign-on/configuring-cas/cas",title:"Configuring CAS",description:"Getting Started",source:"@site/docs/single-sign-on/configuring-cas/cas.mdx",sourceDirName:"single-sign-on/configuring-cas",slug:"/single-sign-on/configuring-cas/cas",permalink:"/single-sign-on/configuring-cas/cas",draft:!1,editUrl:"https://github.com/innovative-educators/ie-docs/blob/master/docs/single-sign-on/configuring-cas/cas.mdx",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"tutorialSidebar",previous:{title:"Configuring SAML 2.0",permalink:"/single-sign-on/configuring-saml/saml2"},next:{title:"Have existing learners?",permalink:"/single-sign-on/existing-learners"}},m={},h=[{value:"Getting Started",id:"getting-started",level:2},{value:"Implementation Overview",id:"implementation-overview",level:2},{value:"Configuring your IdP server",id:"configuring-the-idp",level:2},{value:"What you need from IE",id:"what-you-need-from-ie",level:3},{value:"Configuring your SP client",id:"configuring-the-sp",level:2},{value:"What IE needs from you",id:"what-ie-needs-from-you",level:3},{value:"Add the serviceValidate URL to your SSO settings.",id:"add-the-servicevalidate-url-to-your-sso-settings",level:3},{value:"Configuring the externalCustomerID",id:"external-customer-id",level:3},{value:"Configure Attributes",id:"configure-attributes",level:3},{value:"Example",id:"example",level:4},{value:"Learner Access Restrictions",id:"learner-access-restrictions",level:3},{value:"Authentication",id:"authentication",level:2},{value:"Testing Authentication",id:"testing",level:2},{value:"Troubleshooting",id:"troubleshooting",level:3}],g={toc:h};function k(e){let{components:t,...n}=e;return(0,i.kt)("wrapper",(0,a.Z)({},g,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"configuring-cas"},"Configuring CAS"),(0,i.kt)("h2",{id:"getting-started"},"Getting Started"),(0,i.kt)("p",null,"In many cases the CAS configuration for the SP requires only a few key pieces of information to set up basic authentication. The IdP may require more in-depth configuration in order to meet the needs of your integration.  You will need to refer to your IdP documentation for any advanced configuration. Because this configuration can differ from IdP to IdP, we are unable to provide specific instructions for every IdP."),(0,i.kt)("admonition",{title:"info",type:"note"},(0,i.kt)("p",{parentName:"admonition"},"For clarification on terms in these docs, please refer to the ",(0,i.kt)("a",{parentName:"p",href:"../../definition-of-terms"},"Definition of Terms")," page")),(0,i.kt)("h2",{id:"implementation-overview"},"Implementation Overview"),(0,i.kt)(o,{mdxType:"ImplementationOverview"}),(0,i.kt)("h2",{id:"configuring-the-idp"},"Configuring your IdP server"),(0,i.kt)("h3",{id:"what-you-need-from-ie"},"What you need from IE"),(0,i.kt)("h2",{id:"configuring-the-sp"},"Configuring your SP client"),(0,i.kt)("p",null,"Configuring the SP with a CAS serviceValidate URL"),(0,i.kt)("h3",{id:"what-ie-needs-from-you"},"What IE needs from you"),(0,i.kt)("p",null,"Make sure a CAS 2.0 or 3.0 server is setup and available."),(0,i.kt)("p",null,"Obtain serviceValidate endpoint for your CAS server."),(0,i.kt)("p",null,"If your CAS server is available at ",(0,i.kt)("a",{parentName:"p",href:"https://casserver.org/"},"https://casserver.org/"),", then your CAS serviceValidate endpoint is most likely:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://casserver.org/cas/serviceValidate"},"https://casserver.org/cas/serviceValidate")," for CAS 2.0"),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("a",{parentName:"li",href:"https://casserver.org/cas/p3/serviceValidate"},"https://casserver.org/cas/p3/serviceValidate")," for CAS 3.0")),(0,i.kt)("h3",{id:"add-the-servicevalidate-url-to-your-sso-settings"},"Add the serviceValidate URL to your SSO settings."),(0,i.kt)("p",null,"If your SSO settings are managed by IE (most common), send this URL to IE and it will be configured for you. If you have access to your SSO settings (less common), add this URL to the field labeled CAS Server Validate URL"),(0,i.kt)("p",null,"You can find your SSO settings under Settings > Integrations > SSO or here: ",(0,i.kt)("inlineCode",{parentName:"p"},"https://"),(0,i.kt)("a",{parentName:"p",href:"/definition-of-terms#product-domain"},(0,i.kt)("inlineCode",{parentName:"a"},"<product-domain>")),(0,i.kt)("inlineCode",{parentName:"p"},"/learn/manager/sso-settings")),(0,i.kt)("h3",{id:"external-customer-id"},"Configuring the externalCustomerID"),(0,i.kt)("p",null,"This is the unique ID that will identify users coming from the IdP (identity provider) via the ",(0,i.kt)("inlineCode",{parentName:"p"},"cas:user")," in the ticket validation response. If a user already exists with this identifier, their information will be updated with the attributes passed from."),(0,i.kt)("p",null,"The ",(0,i.kt)("inlineCode",{parentName:"p"},"cas:user")," is the unique ID that will identify users coming from the IdP. This value is stored internally as ",(0,i.kt)("inlineCode",{parentName:"p"},"externalCustomerId"),", and when a learner authenticates, its used to determine whether to connect them to an existing account or provision them a new one."),(0,i.kt)("admonition",{title:"Important",type:"caution"},(0,i.kt)("p",{parentName:"admonition"},"To avoid account clashes, the ",(0,i.kt)("inlineCode",{parentName:"p"},"externalCustomerId")," value must be unique amongst ",(0,i.kt)("strong",{parentName:"p"},"all learners")," from ",(0,i.kt)("strong",{parentName:"p"},"all clients")," in the same instance. With sometimes hundreds of clients in the same instance, this can mean 100s of thousands of users.")),(0,i.kt)("admonition",{type:"note"},(0,i.kt)("p",{parentName:"admonition"},"In WSO2 the ",(0,i.kt)("inlineCode",{parentName:"p"},"cas:user")," is controlled by the field (Subject Claim URI)")),(0,i.kt)(c.ZP,{mdxType:"ExternalCustomerId"}),(0,i.kt)("h3",{id:"configure-attributes"},"Configure Attributes"),(0,i.kt)("p",null,"We support the following attributes that can be mapped from your IdP. The attributes returned in the authentication request, as well as the attribute names, will vary depending on the IdP. Check with your IdP to determine the available attributes."),(0,i.kt)("p",null,"The following list of attributes are available for mapping to any attribute returned from your IdP."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Attribute"),(0,i.kt)("th",{parentName:"tr",align:null},"Type"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"),(0,i.kt)("th",{parentName:"tr",align:null},"Required?"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"firstname")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The first name of the learner"),(0,i.kt)("td",{parentName:"tr",align:null},"Recommended")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"lastname")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The last name of the learner"),(0,i.kt)("td",{parentName:"tr",align:null},"Recommended")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"email")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"The email address of the learner"),(0,i.kt)("td",{parentName:"tr",align:null},"Recommended")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"ref1")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"Data to be associated with the user in reports. examples: role, department, major, title, year, studentId"),(0,i.kt)("td",{parentName:"tr",align:null},"Optional")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"ref2")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"Data to be associated with the user..."),(0,i.kt)("td",{parentName:"tr",align:null},"Optional")),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"ref3")),(0,i.kt)("td",{parentName:"tr",align:null},"string"),(0,i.kt)("td",{parentName:"tr",align:null},"Data to be associated with the user..."),(0,i.kt)("td",{parentName:"tr",align:null},"Optional")))),(0,i.kt)("p",null,"For learners that should be associated with a client (almost every case), you must include one or more licenseIds in the SAML attributes."),(0,i.kt)("h4",{id:"example"},"Example"),(0,i.kt)("p",null,"The following is a complete example of a successful CAS ticket validation including all optional attributes:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="UTF-8"?>\n<cas:serviceResponse xmlns:cas="http://www.yale.edu/tp/cas">\n  <cas:authenticationSuccess>\n    <cas:user>test</cas:user>\n    <cas:attributes>\n      <cas:firstname>bob</cas:firstname>\n      <cas:lastname>jones</cas:lastname>\n      <cas:email>bobjones@example.org</cas:email>\n    </cas:attributes>\n  </cas:authenticationSuccess>\n</cas:serviceResponse>\n')),(0,i.kt)("h3",{id:"learner-access-restrictions"},"Learner Access Restrictions"),(0,i.kt)("p",null,"All access restrictions, or lack there of, are handled on the IdP side of things. So if applicable, make sure sufficent role permissions have been granted to the learners who'll need access to the IE platform before they need it."),(0,i.kt)("p",null,"From IE's perspective, there's not much downside to providing access to all accounts in the IdP side (ie no restrictions) as learners who need access to the IE content may change, and any learners who no longer need access or who never needed it will typically avoid."),(0,i.kt)("h2",{id:"authentication"},"Authentication"),(0,i.kt)(l,{mdxType:"BuildingALoginUrl"}),(0,i.kt)("h2",{id:"testing"},"Testing Authentication"),(0,i.kt)("p",null,"It's important to test the authentication flow before going live. This will ensure that the integration has been configured successfully before learners attempt to access their content."),(0,i.kt)("p",null,"To test, simply"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Authenticate")," from an incognito browser, using the SP login URL to authenticate into the IE platform through SSO."),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("strong",{parentName:"li"},"Notify your IE representative")," Once notified, IE will consult the SSO logs and verify the correct user details are being sent over.")),(0,i.kt)("h3",{id:"troubleshooting"},"Troubleshooting"),(0,i.kt)("p",null,"If authenitcation was successful, you should be redirected to the IE platform and logged in. If you are not logged in, and are still located on the IdP side, there's most likely an issue with the configuration on the IdP side."),(0,i.kt)("p",null,"If on the other hand you are seeing an error, notify your IE representative for next steps. Please include any error messages you see, as well as the page URL you are on."))}k.isMDXComponent=!0}}]);