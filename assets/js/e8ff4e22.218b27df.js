"use strict";(self.webpackChunkie_techdocs=self.webpackChunkie_techdocs||[]).push([[764],{8007:(e,i,n)=>{n.r(i),n.d(i,{Image:()=>c,assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var t=n(5893),a=n(1151);const r={sidebar_position:3,sidebar_label:"with Azure"},o="SAML with Azure",s={id:"single-sign-on/configuring-saml/azure",title:"azure",description:"This supplements the Configuring your IdP server portion of the Configuring SAML 2.0 docs using Azure as your identity provider (IdP). Please ensure you've already read and understand the concepts in the Configuring SAML 2.0 documentation before continuing.",source:"@site/docs/single-sign-on/configuring-saml/azure.mdx",sourceDirName:"single-sign-on/configuring-saml",slug:"/single-sign-on/configuring-saml/azure",permalink:"/single-sign-on/configuring-saml/azure",draft:!1,unlisted:!1,editUrl:"https://github.com/innovative-educators/ie-docs/blob/master/docs/single-sign-on/configuring-saml/azure.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,sidebar_label:"with Azure"},sidebar:"tutorialSidebar",previous:{title:"Configuring SAML 2.0",permalink:"/single-sign-on/configuring-saml/saml2"},next:{title:"with ADFS",permalink:"/single-sign-on/configuring-saml/adfs"}},l={},d=[{value:"Configure the SAML IdP",id:"configure-the-saml-idp",level:2},{value:"Create the application",id:"create-the-application",level:3},{value:"Configure the application",id:"configure-the-application",level:3},{value:"Working with attribute and claims",id:"working-with-attribute-and-claims",level:3},{value:"To edit a claim",id:"to-edit-a-claim",level:4},{value:"To add a new claim",id:"to-add-a-new-claim",level:4},{value:"To add a claim as a static attribute (e.g. licenseId)",id:"to-add-a-claim-as-a-static-attribute-eg-licenseid",level:4},{value:"Configure the NameId",id:"configure-the-nameid",level:3},{value:"Recommended way to make the NameID unique",id:"recommended-way-to-make-the-nameid-unique",level:4}],c=({src:e,alt:i,...n})=>{const r={img:"img",...(0,a.a)()};return(0,t.jsx)(r.img,{src:e,alt:i,style:{"max-height":"300px","padding-left":30},...n})};function h(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.h1,{id:"saml-with-azure",children:"SAML with Azure"}),"\n",(0,t.jsx)(i.admonition,{title:"This is a Supplementry Guide",type:"info",children:(0,t.jsxs)(i.p,{children:["This supplements the ",(0,t.jsx)(i.a,{href:"./saml2#configuring-the-idp",children:"Configuring your IdP server"})," portion of the ",(0,t.jsx)(i.a,{href:"./saml2",children:"Configuring SAML 2.0"})," docs using Azure as your identity provider (IdP). Please ensure you've already read and understand the concepts in the ",(0,t.jsx)(i.a,{href:"./saml2",children:"Configuring SAML 2.0"})," documentation before continuing."]})}),"\n",(0,t.jsx)(i.admonition,{title:"Do you already have an Azure account?",type:"note",children:(0,t.jsx)(i.p,{children:"This guide assumes you have already configured your Azure account and have access to the Azure portal."})}),"\n",(0,t.jsxs)(i.p,{children:["This is a brief guide to the general steps you'll need to take to configure your Azure AD application to integrate with the Innovative Educators SAML 2.0 SP. Please see the ",(0,t.jsx)(i.a,{href:"https://learn.microsoft.com/en-us/entra/identity-platform/saml-claims-customization",children:"Azure Docs for SAML Claim Customization"})," if you require more details."]}),"\n",(0,t.jsx)(i.h2,{id:"configure-the-saml-idp",children:"Configure the SAML IdP"}),"\n",(0,t.jsx)(i.h3,{id:"create-the-application",children:"Create the application"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"In the Azure AD portal, select Enterprise applications. Then, click Create your Own Application."}),"\n",(0,t.jsx)(i.li,{children:'Give it a name and then select the "integrate any other application..." option and create.'}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"configure-the-application",children:"Configure the application"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsx)(i.li,{children:"In the Manage section of the application, select Single sign-on to open the Single sign-on pane for editing."}),"\n",(0,t.jsx)(i.li,{children:"Upload the metadata file you received from IE. This will auto populate most of the SAML configuration that you'll need."}),"\n"]}),"\n",(0,t.jsx)(c,{src:"/img/saml_azure_1.png",alt:"Upload the SP (IE) Metadata File"}),"\n","\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsxs)(i.p,{children:["If uploading an XLM file (instead of utilizing a live hosted URL) like the screenshot above, we recommend removing the ",(0,t.jsx)(i.code,{children:"validUntil property and value"})," to avoid any potential issues that may arise from an IdP acting on the expiration date of the metadata file."]})}),"\n",(0,t.jsx)(i.h3,{id:"working-with-attribute-and-claims",children:"Working with attribute and claims"}),"\n",(0,t.jsx)(i.admonition,{title:"important",type:"info",children:(0,t.jsxs)(i.p,{children:["Please refer to the ",(0,t.jsx)(i.a,{href:"./saml2#configure-attributes",children:"SAML 2.0 documentation"})," for requirements and recommendations regarding attributes and claims."]})}),"\n",(0,t.jsx)(i.p,{children:"This is how Azure will know what to send along with the User authentication via SAML"}),"\n",(0,t.jsx)(i.h4,{id:"to-edit-a-claim",children:"To edit a claim"}),"\n",(0,t.jsx)(i.p,{children:"Simpley click on the pencil icon next to the claim you want to edit."}),"\n",(0,t.jsx)(i.h4,{id:"to-add-a-new-claim",children:"To add a new claim"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["Click ",(0,t.jsx)(i.code,{children:"Add New Claim"})," to bring up the manage claim dialog."]}),"\n",(0,t.jsxs)(i.li,{children:["Give the claim an identifying ",(0,t.jsx)(i.code,{children:"name"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"Namespace"})," can be the attribute name (the key for the value passed to the SP). We're able to match whatever namespace pass passed on the SP side."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"Source"})," should be attribute."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"Source attribute"})," is the key matching the user value you'd like to include."]}),"\n"]}),"\n",(0,t.jsx)(c,{src:"/img/saml_azure_2.png",alt:"Add a New Claim"}),"\n","\n",(0,t.jsx)(i.h4,{id:"to-add-a-claim-as-a-static-attribute-eg-licenseid",children:"To add a claim as a static attribute (e.g. licenseId)"}),"\n",(0,t.jsxs)(i.ol,{start:"2",children:["\n",(0,t.jsxs)(i.li,{children:["In the ",(0,t.jsx)(i.code,{children:"Source Attribute"})," field, add the licenseId (provided by IE) in plain text, instead of matching an already defined attribute key. You'll know it's a static value if Azure surrounds it in quotes."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"configure-the-nameid",children:"Configure the NameId"}),"\n",(0,t.jsx)(i.admonition,{title:"Important",type:"info",children:(0,t.jsxs)(i.p,{children:[(0,t.jsx)(i.a,{href:"./saml2#external-customer-id",children:"Please refer to the SAML 2.0 documentation for requirements and recommendations regarding the NameID"}),"."]})}),"\n",(0,t.jsx)(i.p,{children:"The Name Identifier is the unique ID that will identify SAML users coming from the IdP (identity provider). To edit it in Azure, click the pencil icon next to the claim."}),"\n",(0,t.jsx)(c,{src:"/img/saml_azure_3.png",alt:"Configuring the NameId (Name Identifier)"}),"\n","\n","\n",(0,t.jsx)(i.h4,{id:"recommended-way-to-make-the-nameid-unique",children:"Recommended way to make the NameID unique"}),"\n",(0,t.jsxs)(i.ol,{children:["\n",(0,t.jsxs)(i.li,{children:["From the claim editor, change the ",(0,t.jsx)(i.code,{children:"source"})," property to ",(0,t.jsx)(i.code,{children:"Transformation"})," by selecting the radio button"]}),"\n"]}),"\n",(0,t.jsx)(c,{src:"/img/saml_azure_4.png",alt:"Making the NameID unique"}),"\n","\n",(0,t.jsxs)(i.ol,{start:"2",children:["\n",(0,t.jsx)(i.li,{children:"Then change the following perameters:"}),"\n"]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"Transformation"})," to ",(0,t.jsx)(i.code,{children:"Join()"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"Parameter 1"})," to the attribute matching a ",(0,t.jsx)(i.strong,{children:"unique-to-your-institution learner ID"})]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"Parameter 2"})," to the static value of the ",(0,t.jsx)(i.strong,{children:"@ + your domain name"})," like the example screenshot below. Azure will put your string in quotes (like the licenseId above) if it recognizes your input as a static value."]}),"\n"]}),"\n",(0,t.jsx)(c,{src:"/img/saml_azure_5.png",alt:"Join Transformation",width:"600"}),"\n","\n",(0,t.jsxs)(i.ol,{start:"3",children:["\n",(0,t.jsx)(i.li,{children:"Then click save and you're all set!"}),"\n"]})]})}function u(e={}){const{wrapper:i}={...(0,a.a)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},1151:(e,i,n)=>{n.d(i,{Z:()=>s,a:()=>o});var t=n(7294);const a={},r=t.createContext(a);function o(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function s(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);